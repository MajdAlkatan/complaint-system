{
	"info": {
		"_postman_id": "4afa1f43-1440-49ba-bbab-57c7c5971bd3",
		"name": "Complaint-System",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "47033207",
		"_collection_link": "https://flight-physicist-19539265-691749.postman.co/workspace/Mohammad-Sheikh-Omar's-Workspac~40493aef-62df-4c7d-87d9-e71af3dd4bbd/collection/47033207-4afa1f43-1440-49ba-bbab-57c7c5971bd3?action=share&source=collection_link&creator=47033207"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "AdminAuth",
					"item": [
						{
							"name": "AdminLogin",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\" : \"mhmd6@gmail.com\",\n    \"password\" : \"Mh12@34\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/admins/login",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"admins",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "RefershTokenforAdmin",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"refresh_token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL2FkbWlucy9sb2dpbiIsImlhdCI6MTc2NTgyMzQ4OSwiZXhwIjoxNzY3MDMzMDg5LCJuYmYiOjE3NjU4MjM0ODksImp0aSI6IlgyaGxLZEJtOTMyOWtkRHciLCJzdWIiOiIxIiwicHJ2IjoiZGY4ODNkYjk3YmQwNWVmOGZmODUwODJkNjg2YzQ1ZTgzMmU1OTNhOSIsInR5cGUiOiJyZWZyZXNoX3Rva2VuIn0.YDBxDQqeTgoRUkZElZmJ_K-l1IRiDUh9xPuW7o0peoE\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/admins/refresh",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"admins",
										"refresh"
									]
								}
							},
							"response": []
						},
						{
							"name": "AdminRegister",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\" : \"mhmd6@gmail.com\",\n    \"password\" : \"Mh12@34\",\n    \"password_confirmation\": \"Mh12@34\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/admins/register",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"admins",
										"register"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "EmployeeAuth",
					"item": [
						{
							"name": "LoginEmployee",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\" : \"employee1@gmail.com\",\n    \"password\" : \"Mh12@34\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/employees/login",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"employees",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "RefreshTokenForEmployee",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"refresh_token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL2VtcGxveWVlcy9sb2dpbiIsImlhdCI6MTc2NTgyMjUwNSwiZXhwIjoxNzY3MDMyMTA0LCJuYmYiOjE3NjU4MjI1MDUsImp0aSI6Ijg1eG9zbUpKWTN6cnJKY3AiLCJzdWIiOiI1IiwicHJ2IjoiMzI5NjNhNjA2YzJmMTcxZjFjMTQzMzFlNzY5NzY2Y2Q1OTEyZWQxNSIsInR5cGUiOiJyZWZyZXNoX3Rva2VuIn0.xIwaqdITQbHnaAexFhLWFqgH1yvwGpWisqc9PLY9JUk\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/employees/refresh",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"employees",
										"refresh"
									]
								}
							},
							"response": []
						},
						{
							"name": "AddEmployee",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{admin_token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"username\" : \"Mohammad Sheikh Omar\",\n    \"email\" : \"employee1@gmail.com\",\n    \"password\" : \"Mh12@34\",\n    \"password_confirmation\": \"Mh12@34\",\n    \"government_entity_id\" : 1,\n    \"position\" : \"position1\",\n    \"can_add_notes_on_complaints\" : 1,\n    \"can_request_more_info_on_complaints\" : 1,\n    \"can_change_complaints_status\" : 1,\n    \"can_view_reports\" : 1,\n    \"can_export_data\" : 1\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/employees/add",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"employees",
										"add"
									]
								}
							},
							"response": []
						},
						{
							"name": "EditEmployee",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{admin_token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"can_add_notes_on_complaints\" : 1,\n    \"can_request_more_info_on_complaints\" : 0,\n    \"can_change_complaints_status\" : 1,\n    \"can_view_reports\" : 1,\n    \"can_export_data\" : 1\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/employees/1/edit",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"employees",
										"1",
										"edit"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "CitizenAuth",
					"item": [
						{
							"name": "CitizenRegister",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"full_name\" : \"Mohammad Sheikh Omar\",\n    \"birth_of_date\" : \"2003-05-02\",\n    \"phone\" : \"0951461446\",\n    \"email\" : \"citizen1@gmail.com\",\n    \"password\" : \"Mh12@34\",\n    \"password_confirmation\": \"Mh12@34\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/citizens/register",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"citizens",
										"register"
									]
								}
							},
							"response": []
						},
						{
							"name": "CitizenLogin",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\" : \"citizen1@gmail.com\",\n    \"password\" : \"Mh12@34\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/citizens/login",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"citizens",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "RefreshTokenForCitizen",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"refresh_token\": \"{{citizen_refresh_token}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/citizens/refresh",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"citizens",
										"refresh"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Complaints",
			"item": [
				{
					"name": "Citizen Complaint Endpoints",
					"item": [
						{
							"name": "Get All My Complaints (Citizen)",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{citizen_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints/Mycomplaints",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints",
										"Mycomplaints"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get My Complaint by ID (Citizen)",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{citizen_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints/Mycomplaints/1",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints",
										"Mycomplaints",
										"1"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add Complaint (Citizen)",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{citizen_token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"entity_id\" : 1,\n    \"complaint_type\" : 1,\n    \"location\" : \"Damascus, Syria\",\n    \"description\": \"There is a problem with water supply in my area. The water pressure is very low and sometimes there is no water at all.\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints"
									]
								}
							},
							"response": []
						},
						{
							"name": "Edit My Complaint (Citizen)",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{citizen_token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"description\": \"Updated description: The water supply issue has been ongoing for 2 weeks now. Need urgent attention.\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints/Mycomplaints/1",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints",
										"Mycomplaints",
										"1"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete My Complaint (Citizen)",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{citizen_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints/1",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints",
										"1"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add Notes to My Complaint (Citizen)",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{citizen_token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"notes\": \"I have attached photos of the water meter and pipes. The issue is affecting the whole building, not just my apartment.\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints/AddNotes/1",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints",
										"AddNotes",
										"1"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Employee Complaint Endpoints",
					"item": [
						{
							"name": "Get All Complaints (Employee)",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{employee_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Complaint by ID (Employee)",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{employee_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints/1",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints",
										"1"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Complaint by Reference Number",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{employee_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints/byRef/{{reference_number}}",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints",
										"byRef",
										"{{reference_number}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Edit Complaint (Employee)",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{employee_token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"in_progress\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints/1",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints",
										"1"
									]
								}
							},
							"response": []
						},
						{
							"name": "Lock Complaint",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{employee_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints/lock/1",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints",
										"lock",
										"1"
									]
								}
							},
							"response": []
						},
						{
							"name": "Unlock Complaint",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{employee_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints/unLock/1",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints",
										"unLock",
										"1"
									]
								}
							},
							"response": []
						},
						{
							"name": "Request Notes from Citizen",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{employee_token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"message\": \"Please provide more details about the exact location and time when the water issue occurs.\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints/requestNotes/1",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints",
										"requestNotes",
										"1"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Complaint Types (Admin)",
					"item": [
						{
							"name": "Add Complaint Type",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "bearer {{admin_token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"type\" : \"Water Supply Issues\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://127.0.0.1:8000/api/complaints/addType",
									"protocol": "http",
									"host": [
										"127",
										"0",
										"0",
										"1"
									],
									"port": "8000",
									"path": [
										"api",
										"complaints",
										"addType"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "GovernmentEntities",
			"item": [
				{
					"name": "Add Government Entity (Admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "bearer {{admin_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\" : \"Water Supply Department\",\n    \"contact_email\" : \"water.dept@government.sy\",\n    \"description\" : \"Responsible for water supply and distribution\",\n    \"contact_phone\": \"011-1234567\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:8000/api/governmentEntites",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "8000",
							"path": [
								"api",
								"governmentEntites"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Attachments",
			"item": [
				{
					"name": "Store Attachment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "complaint_id",
									"value": "1",
									"type": "text"
								},
								{
									"key": "image",
									"type": "file",
									"src": ""
								}
							]
						},
						"url": {
							"raw": "http://127.0.0.1:8000/api/attachments",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "8000",
							"path": [
								"api",
								"attachments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Attachment by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://127.0.0.1:8000/api/attachments/1",
							"protocol": "http",
							"host": [
								"127",
										"0",
										"0",
										"1"
							],
							"port": "8000",
							"path": [
								"api",
								"attachments",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Attachments by Complaint ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://127.0.0.1:8000/api/attachments/byComplaint/1",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "8000",
							"path": [
								"api",
								"attachments",
								"byComplaint",
								"1"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://127.0.0.1:8000",
			"type": "string"
		},
		{
			"key": "admin_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "employee_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "citizen_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "reference_number",
			"value": "",
			"type": "string"
		}
	]
}